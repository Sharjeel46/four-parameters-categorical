[
  {
    "objectID": "projects/four-parameters-categorical/index.html",
    "href": "projects/four-parameters-categorical/index.html",
    "title": "projects/four-parameters-categorical",
    "section": "",
    "text": "library(tidyverse)\nlibrary(primer.data)\nlibrary(tidymodels)\nlibrary(nnet)\nlibrary(marginaleffects)\n\n\nnes_92 &lt;- nes |&gt;\n  filter(year == 1992) |&gt;\n  select(sex, pres_vote) |&gt;\n  drop_na() |&gt;\n  mutate(pres_vote = as.factor(case_when(\n    pres_vote == \"Democrat\" ~ \"Clinton\",\n    pres_vote == \"Republican\" ~ \"Bush\",\n    pres_vote == \"Third Party\" ~ \"Perot\",\n    TRUE ~ NA_character_  # fallback in case of other responses\n  ))) |&gt;\n  drop_na(pres_vote)  # drop any leftover NA from unmatched categories\n\nfit_nes &lt;- multinom_reg(engine = \"nnet\") |&gt;\n  fit(pres_vote ~ sex, data = nes_92)\n\n\n# Load required libraries\nlibrary(tidymodels)\nlibrary(gt)\n\n# Tidy the model output\nfit_nes_table &lt;- tidy(fit_nes, conf.int = TRUE) |&gt;\n  select(y.level, term, estimate, conf.low, conf.high) |&gt;\n  mutate(\n    term = case_when(\n      term == \"(Intercept)\" ~ \"Intercept\",\n      term == \"sexMale\" ~ \"Male\"\n    )\n  ) |&gt;\n  gt() |&gt;\n  cols_label(\n    y.level = \"Outcome\",\n    term = \"Term\",\n    estimate = \"Estimate\",\n    conf.low = \"95% CI (Lower)\",\n    conf.high = \"95% CI (Upper)\"\n  ) |&gt;\n  fmt_number(columns = c(estimate, conf.low, conf.high), decimals = 3) |&gt;\n  tab_header(\n    title = \"Multinomial Logistic Regression Results\",\n    subtitle = \"Modeling Voter Preference by Gender in the 1992 US Election\"\n  )\n\n# Print table\nfit_nes_table\n\n\n\n\n\n\n\nMultinomial Logistic Regression Results\n\n\nModeling Voter Preference by Gender in the 1992 US Election\n\n\nOutcome\nTerm\nEstimate\n95% CI (Lower)\n95% CI (Upper)\n\n\n\n\nClinton\nIntercept\n0.455\n0.309\n0.602\n\n\nClinton\nMale\n−0.255\n−0.473\n−0.038\n\n\nPerot\nIntercept\n−0.852\n−1.061\n−0.642\n\n\nPerot\nMale\n0.420\n0.138\n0.703\n\n\n\n\n\n\n\n\nlibrary(tidyverse)\nlibrary(tidymodels)\nlibrary(stringr)\n\n# Get predicted class probabilities from the multinomial model\npred_probs &lt;- predict(fit_nes, new_data = nes_92, type = \"prob\") |&gt;\n  bind_cols(nes_92 |&gt; select(sex))\n\n# Convert to long format for plotting\nplot_data &lt;- pred_probs |&gt;\n  pivot_longer(\n    cols = c(.pred_Clinton, .pred_Bush, .pred_Perot),\n    names_to = \"Candidate\",\n    values_to = \"Probability\"\n  ) |&gt;\n  mutate(Candidate = str_remove(Candidate, \"\\\\.pred_\")) |&gt;\n  group_by(sex, Candidate) |&gt;\n  summarize(mean_prob = mean(Probability), .groups = \"drop\")\n\n# Create the plot\nggplot(plot_data, aes(x = sex, y = mean_prob, fill = sex)) +\n  geom_col(width = 0.7, show.legend = FALSE) +\n  facet_wrap(~Candidate) +\n  labs(\n    title = \"Predicted Voting Probabilities by Gender (1992 Election)\",\n    subtitle = \"Model suggests men leaned toward Perot, women toward Clinton\",\n    x = \"Gender\",\n    y = \"Predicted Probability\",\n    caption = \"Source: 1992 National Election Studies (NES)\"\n  ) +\n  scale_y_continuous(labels = scales::percent_format(accuracy = 1)) +\n  scale_fill_manual(values = c(\"Male\" = \"#1F77B4\", \"Female\" = \"#FF7F0E\")) +\n  theme_minimal(base_size = 14) +\n  theme(\n    plot.title = element_text(face = \"bold\", size = 16),\n    plot.subtitle = element_text(size = 13),\n    strip.text = element_text(face = \"bold\"),\n    axis.text.x = element_text(face = \"bold\"),\n    panel.grid.minor = element_blank()\n  )\n\n\n\n\n\n\n\n\nour regression model \\[\nY = \\beta_0 + \\beta_1 X_1 + \\beta_2 X_2 + \\cdots + \\beta_k X_k + \\varepsilon\n\\]\n\\[\n\\begin{aligned}\n\\hat{\\log} \\left( \\frac{P(\\text{vote} = \\text{Clinton})}{P(\\text{vote} = \\text{Perot})} \\right) &= -0.50 - 0.80 \\cdot \\text{Male} \\\\\n\\hat{\\log} \\left( \\frac{P(\\text{vote} = \\text{Bush})}{P(\\text{vote} = \\text{Perot})} \\right) &= 0.20 + 0.60 \\cdot \\text{Male}\n\\end{aligned}\n\\]\n```\nMen and women may prefer different candidates, which can shape how campaigns are designed. Using data from the 1992 National Election Studies survey, we examine how voter preference varied by gender in that presidential election.A potential weakness in our model is that it assumes gender is the only driver of voting preference, potentially overlooking other influential factors such as age, race, or political ideology.We model voting preference—categorized as support for Clinton, Bush, or Perot—as a multinomial function of gender, estimating how the probability of choosing each candidate differs between men and women."
  },
  {
    "objectID": "four-parameters-categorical-1.html",
    "href": "four-parameters-categorical-1.html",
    "title": "four-parameters-categorical-1",
    "section": "",
    "text": "Quarto enables you to weave together content and executable code into a finished document. To learn more about Quarto see https://quarto.org."
  },
  {
    "objectID": "four-parameters-categorical-1.html#quarto",
    "href": "four-parameters-categorical-1.html#quarto",
    "title": "four-parameters-categorical-1",
    "section": "",
    "text": "Quarto enables you to weave together content and executable code into a finished document. To learn more about Quarto see https://quarto.org."
  },
  {
    "objectID": "analysis.html",
    "href": "analysis.html",
    "title": "Four Parameters Categorical",
    "section": "",
    "text": "library(tidyverse)\nlibrary(primer.data)\nlibrary(tidymodels)\nlibrary(nnet)\nlibrary(marginaleffects)\n\n\nnes_92 &lt;- nes |&gt;\n  filter(year == 1992) |&gt;\n  select(sex, pres_vote) |&gt;\n  drop_na() |&gt;\n  mutate(pres_vote = as.factor(case_when(\n    pres_vote == \"Democrat\" ~ \"Clinton\",\n    pres_vote == \"Republican\" ~ \"Bush\",\n    pres_vote == \"Third Party\" ~ \"Perot\",\n    TRUE ~ NA_character_  # fallback in case of other responses\n  ))) |&gt;\n  drop_na(pres_vote)  # drop any leftover NA from unmatched categories\n\nfit_nes &lt;- multinom_reg(engine = \"nnet\") |&gt;\n  fit(pres_vote ~ sex, data = nes_92)\n\n\n# Load required libraries\nlibrary(tidymodels)\nlibrary(gt)\n\n# Tidy the model output\nfit_nes_table &lt;- tidy(fit_nes, conf.int = TRUE) |&gt;\n  select(y.level, term, estimate, conf.low, conf.high) |&gt;\n  mutate(\n    term = case_when(\n      term == \"(Intercept)\" ~ \"Intercept\",\n      term == \"sexMale\" ~ \"Male\"\n    )\n  ) |&gt;\n  gt() |&gt;\n  cols_label(\n    y.level = \"Outcome\",\n    term = \"Term\",\n    estimate = \"Estimate\",\n    conf.low = \"95% CI (Lower)\",\n    conf.high = \"95% CI (Upper)\"\n  ) |&gt;\n  fmt_number(columns = c(estimate, conf.low, conf.high), decimals = 3) |&gt;\n  tab_header(\n    title = \"Multinomial Logistic Regression Results\",\n    subtitle = \"Modeling Voter Preference by Gender in the 1992 US Election\"\n  )\n\n# Print table\nfit_nes_table\n\n\n\n\n\n\n\nMultinomial Logistic Regression Results\n\n\nModeling Voter Preference by Gender in the 1992 US Election\n\n\nOutcome\nTerm\nEstimate\n95% CI (Lower)\n95% CI (Upper)\n\n\n\n\nClinton\nIntercept\n0.455\n0.309\n0.602\n\n\nClinton\nMale\n−0.255\n−0.473\n−0.038\n\n\nPerot\nIntercept\n−0.852\n−1.061\n−0.642\n\n\nPerot\nMale\n0.420\n0.138\n0.703\n\n\n\n\n\n\n\n\nlibrary(tidyverse)\nlibrary(tidymodels)\nlibrary(stringr)\n\n# Get predicted class probabilities from the multinomial model\npred_probs &lt;- predict(fit_nes, new_data = nes_92, type = \"prob\") |&gt;\n  bind_cols(nes_92 |&gt; select(sex))\n\n# Convert to long format for plotting\nplot_data &lt;- pred_probs |&gt;\n  pivot_longer(\n    cols = c(.pred_Clinton, .pred_Bush, .pred_Perot),\n    names_to = \"Candidate\",\n    values_to = \"Probability\"\n  ) |&gt;\n  mutate(Candidate = str_remove(Candidate, \"\\\\.pred_\")) |&gt;\n  group_by(sex, Candidate) |&gt;\n  summarize(mean_prob = mean(Probability), .groups = \"drop\")\n\n# Create the plot\nggplot(plot_data, aes(x = sex, y = mean_prob, fill = sex)) +\n  geom_col(width = 0.7, show.legend = FALSE) +\n  facet_wrap(~Candidate) +\n  labs(\n    title = \"Predicted Voting Probabilities by Gender (1992 Election)\",\n    subtitle = \"Model suggests men leaned toward Perot, women toward Clinton\",\n    x = \"Gender\",\n    y = \"Predicted Probability\",\n    caption = \"Source: 1992 National Election Studies (NES)\"\n  ) +\n  scale_y_continuous(labels = scales::percent_format(accuracy = 1)) +\n  scale_fill_manual(values = c(\"Male\" = \"#1F77B4\", \"Female\" = \"#FF7F0E\")) +\n  theme_minimal(base_size = 14) +\n  theme(\n    plot.title = element_text(face = \"bold\", size = 16),\n    plot.subtitle = element_text(size = 13),\n    strip.text = element_text(face = \"bold\"),\n    axis.text.x = element_text(face = \"bold\"),\n    panel.grid.minor = element_blank()\n  )\n\n\n\n\n\n\n\n\nour regression model \\[\nY = \\beta_0 + \\beta_1 X_1 + \\beta_2 X_2 + \\cdots + \\beta_k X_k + \\varepsilon\n\\]\n\\[\n\\begin{aligned}\n\\hat{\\log} \\left( \\frac{P(\\text{vote} = \\text{Clinton})}{P(\\text{vote} = \\text{Perot})} \\right) &= -0.50 - 0.80 \\cdot \\text{Male} \\\\\n\\hat{\\log} \\left( \\frac{P(\\text{vote} = \\text{Bush})}{P(\\text{vote} = \\text{Perot})} \\right) &= 0.20 + 0.60 \\cdot \\text{Male}\n\\end{aligned}\n\\]\n```\nMen and women may prefer different candidates, which can shape how campaigns are designed. Using data from the 1992 National Election Studies survey, we examine how voter preference varied by gender in that presidential election.A potential weakness in our model is that it assumes gender is the only driver of voting preference, potentially overlooking other influential factors such as age, race, or political ideology.We model voting preference—categorized as support for Clinton, Bush, or Perot—as a multinomial function of gender, estimating how the probability of choosing each candidate differs between men and women."
  },
  {
    "objectID": "projects/four-parameters-categorical/about.html",
    "href": "projects/four-parameters-categorical/about.html",
    "title": "About",
    "section": "",
    "text": "About this site"
  }
]